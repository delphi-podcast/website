<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=8dce9d32f790087ba98d18ab087bc3f67f3d9fc2">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup theme-color -->
<!-- start theme color meta headers -->
<meta name="theme-color" content="#151515">
<meta name="msapplication-navbutton-color" content="#151515">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- end theme color meta headers -->


<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->


<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Debugging Against a Remote Android Emulator | The Podcast at Delphi.org</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Debugging Against a Remote Android Emulator" />
<meta name="author" content="Jim McKeeth" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The Android emulator is impossibly slow when running inside a virtual machine. It is possible to debug against a remote emulator via SSH. Here are the steps to connect from a Windows guest OS to an OS X host OS (they can be easily adapted for a Windows host). It does require installing the Android SDK on the host OS and creating and running an emulator there. It seems to work even if you have a device connected too. I’ve gotten them both to show up in the IDE and am able to pick between them and deploy and run on the emulator.  The Emulator is still slower than hardware, but this makes it usable." />
<meta property="og:description" content="The Android emulator is impossibly slow when running inside a virtual machine. It is possible to debug against a remote emulator via SSH. Here are the steps to connect from a Windows guest OS to an OS X host OS (they can be easily adapted for a Windows host). It does require installing the Android SDK on the host OS and creating and running an emulator there. It seems to work even if you have a device connected too. I’ve gotten them both to show up in the IDE and am able to pick between them and deploy and run on the emulator.  The Emulator is still slower than hardware, but this makes it usable." />
<link rel="canonical" href="http://localhost:4000/2013/09/debugging-against-a-remote-android-emulator/" />
<meta property="og:url" content="http://localhost:4000/2013/09/debugging-against-a-remote-android-emulator/" />
<meta property="og:site_name" content="The Podcast at Delphi.org" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2013-09-17T20:59:00-06:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Debugging Against a Remote Android Emulator" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jim McKeeth"},"dateModified":"2013-09-17T20:59:00-06:00","datePublished":"2013-09-17T20:59:00-06:00","description":"The Android emulator is impossibly slow when running inside a virtual machine. It is possible to debug against a remote emulator via SSH. Here are the steps to connect from a Windows guest OS to an OS X host OS (they can be easily adapted for a Windows host). It does require installing the Android SDK on the host OS and creating and running an emulator there. It seems to work even if you have a device connected too. I’ve gotten them both to show up in the IDE and am able to pick between them and deploy and run on the emulator.  The Emulator is still slower than hardware, but this makes it usable.","headline":"Debugging Against a Remote Android Emulator","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2013/09/debugging-against-a-remote-android-emulator/"},"url":"http://localhost:4000/2013/09/debugging-against-a-remote-android-emulator/"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <header>
      <div class="container">
        <a id="a-title" href="/">
          <h1>delphiorg.github.io</h1>
        </a>
        <h2>The Podcast about the Delphi programming language, tools, news and community.</h2>

        <section id="downloads">
          
          <a href="https://github.com/delphiorg/delphiorg.github.io" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <small>17 September 2013</small>
<h1>Debugging Against a Remote Android Emulator</h1>

<p class="view">by Jim McKeeth</p>

<p>The Android emulator is impossibly slow when running inside a virtual machine. It is possible to debug against a remote emulator via SSH. Here are the steps to connect from a Windows guest OS to an OS X host OS (they can be easily adapted for a Windows host). It does require installing the Android SDK on the host OS and creating and running an emulator there. It seems to work even if you have a device connected too. I’ve gotten them both to show up in the IDE and am able to pick between them and deploy and run on the emulator.  The Emulator is still slower than hardware, but this makes it usable.</p>

<p><em>Of note, this emulator performance isn’t an issue with Delphi, but is an issue with the Android emulator. So you may find this tip useful with other Android development tools as well.</em></p>

<p>This could be adapted to debug against a remote Android Emulator running on a remote machine located anywhere on the internet. Just requires port 22 to be open between the two machines.</p>

<p>Thanks to <a href="http://stackoverflow.com/users/6278/255">hheimbuerger</a> for the the <a href="http://stackoverflow.com/a/2792395/255">Stack Overflow answer</a> that got me pointed in the right direction. This information has been adapted to the <a href="http://docwiki.embarcadero.com/RADStudio/XE5/en/Running_and_Debugging_Your_Android_Application_Remotely">DocWiki</a> too with additional links to more information.</p>

<p>http://www.youtube.com/watch?v=CacpPleWsZM</p>
<ol>
	<li>Install the <a href="http://developer.android.com/sdk/">Android SDK</a> (not the ADT bundle) on your Mac OS X host &amp; start an ARM based emulator (With use Host GPU enabled)</li>
	<li>Enable SSH on the host
<ul>
	<li>On a Mac OS X Host go to System Preferences -&gt; Sharing -&gt; Remote Login</li>
	<li>On a Windows host, you need to install a 3rd party SSH host. <a href="http://www.freesshd.com/">FreeSSHd</a> has been found to work.</li>
</ul>
</li>
	<li>Install the <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html">PuTTY SSH</a> (putty.exe) client on the Windows Guest OS</li>
	<li>Ensure port 22 is open between the Windows guest OS and the Mac OS X host.</li>
	<li>Create a connection in PuTTY to the Host OS
<ol>
	<li>You will most likely use the 192.168.x.x IP address of the host</li>
	<li>Go to Connection -&gt; SSH -&gt; Tunnels and add a local/auto port forwarding for 5555 to locahost:5555 and 5554 to localhost:5554.</li>
</ol>
</li>
	<li>Save and Open the connection in PuTTY</li>
	<li>Provide the login credentials for the Mac OS X host - anything typed in this window is executed on the remote machine</li>
	<li>You can check or change the tunnel settings via the icon in the upper left of the PuTTY window</li>
	<li>Minimize PuTTY (keep it open to maintain the SSH connection)</li>
	<li>Open a new command window in the Windows guest OS and type "adb kill-server &amp; adb devices" and you should see the <i>emulator-5554</i> as a listed device.</li>
	<li>Refresh target devices in Delphi and it should appear</li>
</ol>
<p><img class="alignnone  wp-image-1276" alt="PuTTY Tunnels" src="/assets/images/2013/09/PuTTY-Tunnels.png" width="472" height="456" /></p>

<p>This should work for any emulators or devices connected to the remote machine. Unlike emulators that are local, you need to start the emulators before Delphi will see them. You may need to adjust the tunnel port numbers if you are connecting multiple devices.</p>

<p>Good luck, and happy debugging!</p>



  <small>tags: <em>Debugging</em> - <em>Mobile</em> - <em>News</em></small>


      </section>
    </div>
  </body>
</html>
