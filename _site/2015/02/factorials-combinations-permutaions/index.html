<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=8dce9d32f790087ba98d18ab087bc3f67f3d9fc2">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup theme-color -->
<!-- start theme color meta headers -->
<meta name="theme-color" content="#151515">
<meta name="msapplication-navbutton-color" content="#151515">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- end theme color meta headers -->


<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->


<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Factorials, Combinations &amp; Permutaions | The Podcast at Delphi.org</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Factorials, Combinations &amp; Permutaions" />
<meta name="author" content="Jim McKeeth" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This is some code I wrote a long time ago as part of the TDAG mailing list. It calculates Factorials, the number of Combinations and Permutations. This is the mathematics, it calculates the number of Combinations and Permutations, it doesn’t create each different Combination and Permutation." />
<meta property="og:description" content="This is some code I wrote a long time ago as part of the TDAG mailing list. It calculates Factorials, the number of Combinations and Permutations. This is the mathematics, it calculates the number of Combinations and Permutations, it doesn’t create each different Combination and Permutation." />
<link rel="canonical" href="http://localhost:4000/2015/02/factorials-combinations-permutaions/" />
<meta property="og:url" content="http://localhost:4000/2015/02/factorials-combinations-permutaions/" />
<meta property="og:site_name" content="The Podcast at Delphi.org" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-02-08T18:56:51-07:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Factorials, Combinations &amp; Permutaions" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Jim McKeeth"},"dateModified":"2015-02-08T18:56:51-07:00","datePublished":"2015-02-08T18:56:51-07:00","description":"This is some code I wrote a long time ago as part of the TDAG mailing list. It calculates Factorials, the number of Combinations and Permutations. This is the mathematics, it calculates the number of Combinations and Permutations, it doesn’t create each different Combination and Permutation.","headline":"Factorials, Combinations &amp; Permutaions","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2015/02/factorials-combinations-permutaions/"},"url":"http://localhost:4000/2015/02/factorials-combinations-permutaions/"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>

    <header>
      <div class="container">
        <a id="a-title" href="/">
          <h1>delphiorg.github.io</h1>
        </a>
        <h2>The Podcast about the Delphi programming language, tools, news and community.</h2>

        <section id="downloads">
          
          <a href="https://github.com/delphiorg/delphiorg.github.io" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <small>8 February 2015</small>
<h1>Factorials, Combinations & Permutaions</h1>

<p class="view">by Jim McKeeth</p>

<p>This is some code I wrote a long time ago as part of the <a href="https://groups.yahoo.com/neo/groups/tdag/info">TDAG mailing list</a>. It calculates Factorials, the number of Combinations and Permutations. This is the mathematics, it calculates the number of Combinations and Permutations, it doesn’t create each different Combination and Permutation.</p>

<p>They take Cardinals as parameters because it doesn’t make sense to accept negative numbers. Keep in mind that factorials get big really, really quickly, so if you use too large of numbers then it will overflow even the Int64.</p>

<p>[delphi]
unit FactCombPerm;</p>

<p>interface</p>

<p>// Parameters are Cardinal because Int64 isn’t Ordinal
//  Besides, Factorial(100) will overflow Int64 already.
function Factorial(const ANumber: Cardinal): Int64; overload;
function Factorial(const ANumber: Cardinal;
                   const AStop: Cardinal): Int64; overload;
function CombinationUnOpt(const ACount, AChoose: Cardinal): Int64;
function Combination(const ACount, AChoose: Cardinal): Int64;
function Permutation(const ACount, AChoose: Cardinal): Int64;</p>

<p>implementation</p>

<p>function Factorial(const ANumber: Cardinal): Int64; overload;
// n! = n * (n-1) . . . n(2)
var
  lCtr: Cardinal;
begin
  Result := 1;
  for lCtr := ANumber downto 2 do
    Result := Result * lCtr;
end;</p>

<p>function Factorial(const ANumber: Cardinal;
                   const AStop: Cardinal): Int64; overload;
// Factorial with a stop point (needed in the optimized Combination routine
// if no AStop is specified then is the same as Factorial
var
  lCtr: Cardinal;
begin
  Result := 1;
  if ANumber &gt;= AStop then
    for lCtr := ANumber downto AStop do
      Result := Result * lCtr;
end;</p>

<p>function CombinationUnOpt(const ACount, AChoose: Cardinal): Int64;
// n!
// n_C_k = ———-
// k!(n - k)!
begin
  if AChoose &lt; ACount then
    Result := Factorial(ACount)
      div (Factorial(AChoose) * Factorial(ACount - AChoose))
  else
    Result := 0;
end;</p>

<p>function Combination(const ACount, AChoose: Cardinal): Int64;
// n!
// n_C_k = ———-
// k!(n - k)!
// with optimizations even!
begin
  if AChoose &lt; ACount then
    Result := Factorial(ACount, succ(ACount - AChoose))
      div (Factorial(AChoose))
  else
    Result := 0;
end;</p>

<p>function Permutation(const ACount, AChoose: Cardinal): Int64;
// n!
// n_P_k = ——–
// (n - k)!
begin
  if AChoose &lt; ACount then
    Result := Factorial(ACount)
      div Factorial(ACount - AChoose)
  else
    Result := 0;
end;</p>

<p>end.
[/delphi]</p>

<p>My original optimization had a bug in it, but <a href="https://groups.yahoo.com/neo/groups/tdag/conversations/topics/5342">Bryan Mayland</a> fixed it for me. This is old code, and there are probably some options to optimize it better. I’d love input, suggestions, etc.</p>




  <small>tags: <em>Source Code</em></small>


      </section>
    </div>
  </body>
</html>
